<div class="container">
  <h1 class="mt-3">Edit Department</h1>

  <ng-container *ngIf="department; else notFound">
    <form #editdeptForm="ngForm" (ngSubmit)="onFormSubmit(editdeptForm)">
      <div class="mt-2">
        <div class="mt-3">
          <label class="form-label" for="dptID">DepartmentID</label>
          <input type="text" disabled id="dptID" class="form-control" name="dptID"
                 value="{{department.dptID}}">
        </div>
        <div class="mt-3">
          <label class="form-label" for="departmentName">Department Name</label>
          <input type="text" id="departmentName" class="form-control" name="departmentName"
                 [(ngModel)]="department.departmentName" required>
          <div class="validation"
               *ngIf="editdeptForm.submitted && !editdeptForm.controls['departmentName']?.valid">
            Department Name is required.
          </div>
        </div>
        <div class="mt-3">
          <label class="form-label" for="lastUpdated">Last Updated</label>
          <input type="date" disabled id="lastUpdated" class="form-control" name="lastUpdated"
                 value="{{department.lastUpdated}}" [ngModel]="department.lastUpdated | date:'yyyy-MM-dd'"
                 (ngModelChange)="department.lastUpdated = $event">
        </div>

        <div class="mt-3 d-flex">
          <button type="submit" class="btn btn-outline-success">
            <i class="bi bi-pencil-fill"></i>
            Update
          </button>
          <button type="button" class="btn btn-outline-danger ms-3" (click)="onDelete()">
            <i class="bi bi-trash-fill"></i> Delete
          </button>
          <button type="button" class="btn btn-outline-secondary ms-3" (click)="onBack()">
            <i class="bi bi-arrow-left"></i> Back To List
          </button>
        </div>

      </div>
    </form>

  </ng-container>

  <!--template using temp variable for notFound-->
  <ng-template #notFound>
    <div class="alert alert-warning" role="alert">
      Department not found!
    </div>
  </ng-template>

</div>
